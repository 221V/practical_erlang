* реализовать стейт-машину для выбора мастера

** DONE start election
    + increments its current term
    + It then votes for itself
    + send vote_request to all nodes
    + wait for replies
      + got majority of replies -- leader or follower
      + didn't get replies during time -- start election again after random timeout

** DONE follower
    + vote for candidat (true for first candidat in term, false for other candidats)
      need to keep term and voted candidat in state
    + accept append_entries

** DONE leader
    - broadcast append_entries regulary

** DONE process request_vote and append_enteries in all states
   (check term, update term, reject request)

** DONE на 3 нодах могут быть многократные перевыборы
   нужно повозиться с таймерами
   посмотреть, как ведет себя демка, какие там интервалы

** DONE периодически выскакивают такие штуки
=ERROR REPORT==== 24-Nov-2015::22:22:23 ===
Error in process <0.37.0> on node 'delta@127.0.0.1' with exit value: {badarg,[{gen_fsm,send_event,2,[{file,"gen_fsm.erl"},{line,200}]}]}
ошибка возникает на ноде follower, а отображается в консоли ноды-мастера

Это может быть, что нода стартовала, но gen_fsm на ней еще не запустился,
и тут с другой ноды вызыван raft:event()
Это можно просто игнорировать


** отладить все это в кластере
протестить сценарии:
  - старт кластера, выбор мастера
  - падение мастера, выбор нового мастера, возврат ноды в роли follower
  - падение follower, возврат follower


* подготовить презентацию
  - обзор
  - фазы, кратко про каждую
  - интерактивная модель
  - фаза выбора мастера
    - в т.ч. схема конечного автомата


* сделать несколько листингов кода, отражающих поэтапное развитие
  первый этап -- все на псевдокоде
  ну и потом псевдокод заменять на реализацию
  в таком виде оно может пойти  в блог
